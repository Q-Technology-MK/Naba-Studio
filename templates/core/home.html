{% extends "core/base.html" %}
{% load multilang %}

{% block title %}{% t 'nav_home' %} Â· Naba Studio{% endblock %}

{% block content %}
<div class="home-page">
    <section class="hero-split hero-first">
        <div class="hero-content hero-content-centered">
            <span class="hero-icon">âœ¦</span>
            <p class="hero-kicker">{% t 'home_hero_title' %}</p>
            <h1>Naba Studio<br>by Semma</h1>
            <p>{% t 'home_hero_subtitle' %}</p>
            <a href="{% url 'about' %}" class="primary-btn">{% t 'nav_about' %}</a>
        </div>
        {% if hero_home_bg %}
        <img src="{{ hero_home_bg.image.url }}" alt="{{ hero_home_bg.alt_text|default:'Hero image' }}" class="hero-first-image">
        {% else %}
        <img src="https://images.unsplash.com/photo-1507679799987-c73779587ccf?auto=format&fit=crop&w=1000&q=80" alt="Hero image" class="hero-first-image">
        {% endif %}
    </section>

    <section class="hero-split hero-second" {% if hero_home_2_bg %}style="background-image: url('{{ hero_home_2_bg.image.url }}'); background-size: cover; background-position: center;"{% endif %}>
        <div class="hero-gallery">
            <div class="hero-year">{% t 'home_memory' %}</div>
            <div class="hero-stack">
                {% if hero_stack_1 %}
                <img src="{{ hero_stack_1.image.url }}" alt="{{ hero_stack_1.alt_text|default:'couture bridal dress preview' }}">
                {% else %}
                <img src="https://images.unsplash.com/photo-1487180144351-b8472da7d491?auto=format&fit=crop&w=800&q=80" alt="couture bridal dress preview">
                {% endif %}
                {% if hero_stack_2 %}
                <img class="overlap" src="{{ hero_stack_2.image.url }}" alt="{{ hero_stack_2.alt_text|default:'custom bridal design detail' }}">
                {% else %}
                <img class="overlap" src="https://images.unsplash.com/photo-1594938298603-c8148c4dae35?auto=format&fit=crop&w=800&q=80" alt="custom bridal design detail">
                {% endif %}
            </div>
        </div>
        <div class="hero-details hero-details-centered">
            <p class="section-kicker">{% t 'home_couture' %}</p>
            <h2>{% t 'home_designed' %}</h2>
            <p>{% t 'home_hero_subtitle' %}</p>
            <p class="schedule">{% t 'home_weekdays' %}: 10:00 â€“ 19:00<br>{% t 'home_saturday' %}: 10:00 â€“ 17:00</p>
            <a href="{% url 'about' %}" class="primary-btn">{% t 'nav_about' %}</a>
        </div>
        {% if hero_floral %}
        <img class="hero-floral" src="{{ hero_floral.image.url }}" alt="{{ hero_floral.alt_text|default:'flower' }}">
        {% else %}
        <img class="hero-floral" src="https://images.unsplash.com/photo-1517694712202-14dd9538aa97?auto=format&fit=crop&w=800&q=80" alt="flower">
        {% endif %}
    </section>

    <section class="service-meta">
        <p class="section-kicker">{% t 'home_what_we_do' %}</p>
        <h2>{% t 'home_sewing_services' %}</h2>
        <div class="service-meta-grid">
            {% for service in services %}
            <article>
                <span class="service-icon">{{ service.icon }}</span>
                <h3>{{ service.title }}</h3>
                <p>{{ service.description }}</p>
            </article>
            {% empty %}
            <article>
                <span class="service-icon">âœ‚</span>
                <h3>{% t 'home_alterations' %}</h3>
                <p>{% t 'home_hero_subtitle' %}</p>
            </article>
            <article>
                <span class="service-icon">ðŸ§µ</span>
                <h3>{% t 'home_dress_sewing' %}</h3>
                <p>{% t 'home_hero_subtitle' %}</p>
            </article>
            <article>
                <span class="service-icon">ðŸª¡</span>
                <h3>{% t 'home_tailoring' %}</h3>
                <p>{% t 'home_hero_subtitle' %}</p>
            </article>
            {% endfor %}
        </div>
    </section>

    <section class="dress-shop">
        <div class="dress-header">
            <p class="section-kicker">{% t 'home_dress_shop' %}</p>
            <h2>{% t 'home_ready_to_wear' %}</h2>
        </div>
        <div class="dress-grid">
            {% for product in featured_products %}
            <article class="dress-item">
                <a href="{% url 'product_detail' product.slug %}" style="text-decoration: none; color: inherit;">
                    <img src="{{ product.get_primary_image }}" alt="{{ product.name }}">
                    <div class="dress-meta">
                        <h4>{{ product.name }}</h4>
                        <p class="price">{{ product.price }}</p>
                    </div>
                </a>
            </article>
            {% endfor %}
        </div>
    </section>

    <section class="video-section">
        <div class="video-wrapper" style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; max-width: 100%;">
            <iframe
                src="{% if video_embed %}{{ video_embed.get_embed_url }}{% else %}https://www.youtube.com/embed/dQw4w9WgXcQ{% endif %}"
                title="Atelier cinematic demo"
                frameborder="0"
                width="560"
                height="315"
                style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                referrerpolicy="strict-origin-when-cross-origin"
                allowfullscreen
                loading="lazy"
            ></iframe>
        </div>
    </section>

    <section class="bride-gallery">
        <div class="bride-text">
            <p class="section-kicker">{% t 'home_our_brides' %}</p>
            <h2>{% t 'home_dress_gallery' %}</h2>
            <p><strong>{{ bride_gallery_text.title }}</strong></p>
            <p>{{ bride_gallery_text.paragraph_1 }}</p>
            <p><strong>{{ bride_gallery_text.title_2 }}</strong></p>
            <p>{{ bride_gallery_text.paragraph_2 }}</p>
            <p><strong>{{ bride_gallery_text.title_3 }}</strong></p>
            <p>{{ bride_gallery_text.paragraph_3 }}</p>
            <a href="{% url 'portfolio' %}" class="primary-btn">{% t 'home_view_collection' %}</a>
            <div class="mini-gallery">
                {% if dress_mini_1 %}
                <img src="{{ dress_mini_1.image.url }}" alt="{{ dress_mini_1.alt_text|default:'mini bride 1' }}">
                {% else %}
                <img src="https://images.unsplash.com/photo-1469474968028-56623f02e42e?auto=format&fit=crop&w=400&q=80" alt="mini bride 1">
                {% endif %}
                {% if dress_mini_2 %}
                <img src="{{ dress_mini_2.image.url }}" alt="{{ dress_mini_2.alt_text|default:'mini bride 2' }}">
                {% else %}
                <img src="https://images.unsplash.com/photo-1524504388940-b1c1722653e1?auto=format&fit=crop&w=420&q=80" alt="mini bride 2">
                {% endif %}
                {% if dress_mini_3 %}
                <img src="{{ dress_mini_3.image.url }}" alt="{{ dress_mini_3.alt_text|default:'mini bride 3' }}">
                {% else %}
                <img src="https://images.unsplash.com/photo-1524504388940-b1c1722653e1?auto=format&fit=crop&w=380&q=80" alt="mini bride 3">
                {% endif %}
            </div>
            <div class="flower-demo" role="presentation"></div>
        </div>
        <div class="bride-grid">
            {% if bride_img_1 %}
            <img style="grid-area: 1 / 1 / 2 / 2;" src="{{ bride_img_1.image.url }}" alt="{{ bride_img_1.alt_text|default:'bride 1' }}">
            {% else %}
            <img style="grid-area: 1 / 1 / 2 / 2;" src="https://images.unsplash.com/photo-1504593811423-6dd665756598?auto=format&fit=crop&w=400&q=80" alt="bride 1">
            {% endif %}
            {% if bride_img_2 %}
            <img style="grid-area: 1 / 2 / 2 / 3;" src="{{ bride_img_2.image.url }}" alt="{{ bride_img_2.alt_text|default:'bride 2' }}">
            {% else %}
            <img style="grid-area: 1 / 2 / 2 / 3;" src="https://images.unsplash.com/photo-1475180098004-ca77a66827be?auto=format&fit=crop&w=600&q=80" alt="bride 2">
            {% endif %}
            {% if bride_img_3 %}
            <img style="grid-area: 1 / 3 / 2 / 4;" src="{{ bride_img_3.image.url }}" alt="{{ bride_img_3.alt_text|default:'bride 3' }}">
            {% else %}
            <img style="grid-area: 1 / 3 / 2 / 4;" src="https://images.unsplash.com/photo-1500530855697-b586d89ba3ee?auto=format&fit=crop&w=400&q=80" alt="bride 3">
            {% endif %}
            {% if bride_img_4 %}
            <img style="grid-area: 2 / 1 / 3 / 2;" src="{{ bride_img_4.image.url }}" alt="{{ bride_img_4.alt_text|default:'bride 4' }}">
            {% else %}
            <img style="grid-area: 2 / 1 / 3 / 2;" src="https://images.unsplash.com/photo-1507120410856-1f35574c3b45?auto=format&fit=crop&w=400&q=80" alt="bride 4">
            {% endif %}
            {% if bride_img_5 %}
            <img style="grid-area: 2 / 2 / 3 / 4;" src="{{ bride_img_5.image.url }}" alt="{{ bride_img_5.alt_text|default:'bride 5' }}">
            {% else %}
            <img style="grid-area: 2 / 2 / 3 / 4;" src="https://images.unsplash.com/photo-1487412720507-e7ab37603c6f?auto=format&fit=crop&w=600&q=80" alt="bride 5">
            {% endif %}
        </div>
    </section>

    <section class="contact-split">
        <div class="map-embed">
            {% if site_settings.map_embed_code %}
                {{ site_settings.map_embed_code|safe }}
            {% else %}
                <iframe
                    src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d1498.2340000000002!2d21.428057!3d41.997335!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x1354586c8b8d7d4d%3A0x8f8f8f8f8f8f8f8f!2sSamoilova%2090%2C%20Skopje!5e0!3m2!1sen!2sus!4v1702740000000!5m2!1sen!2sus"
                    allowfullscreen
                    loading="lazy"
                    referrerpolicy="no-referrer-when-downgrade"
                    title="Naba Studio Skopje"
                ></iframe>
            {% endif %}
        </div>
        <div class="contact-card">
            <p class="section-kicker">{% t 'footer_contact_us' %}</p>
            <h3>{% t 'home_questions' %}</h3>
            <form>
                <input placeholder="{% t 'home_your_name' %}" required>
                <input placeholder="{% t 'home_email' %}" type="email" required>
                <textarea rows="4" placeholder="{% t 'home_your_message' %}"></textarea>
                <button type="submit">{% t 'home_send' %}</button>
            </form>
        </div>
    </section>

    <section class="articles">
        <div class="articles-head">
            <p class="section-kicker">{% t 'home_wedding_articles' %}</p>
            <h2>{% t 'home_latest_from_diary' %}</h2>
        </div>
        <div class="articles-grid">
            {% for post in latest_blog %}
            <article class="article-card">
                <a href="{% url 'blog_detail' post.slug %}" style="text-decoration: none; color: inherit;">
                    <img src="{{ post.hero_image }}" alt="{{ post.translated_title }}">
                    <div class="article-meta">
                        <p class="article-tag">{% t 'home_story' %}</p>
                        <h3>{{ post.translated_title }}</h3>
                        <p>{{ post.published_at }}</p>
                    </div>
                </a>
            </article>
            {% endfor %}
        </div>
    </section>
</div>
{% endblock %}
