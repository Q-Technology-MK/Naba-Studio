{% extends "core/base.html" %}
{% load i18n multilang %}

{% block title %}{% t 'nav_rsvp' %} Â· Naba Studio{% endblock %}

{% block content %}
{% get_current_language as LANGUAGE_CODE %}
<!-- Hero Section 1899x719 -->
<section class="rsvp-hero" style="background-image: url('https://images.unsplash.com/photo-1519741497674-611481863552?auto=format&fit=crop&w=1900&q=80');">
    <div class="rsvp-hero-overlay">
        <div class="rsvp-hero-content">
            <h1>{% t 'rsvp_celebration' %}</h1>
            <p>{% t 'rsvp_join_us' %}</p>
            <a href="#rsvp-form" class="primary-btn">{% t 'rsvp_now' %}</a>
        </div>
    </div>
</section>

<!-- Contact Details + Form Section -->
<div class="page-wrapper">
    <section class="rsvp-contact-section" id="rsvp-form">
        <div class="rsvp-contact-details">
            <h2>{% t 'rsvp_contact_details' %}</h2>
            <address>
                <p>{{ site_settings.address }}</p>
                <p><a href="mailto:{{ site_settings.email }}">{{ site_settings.email }}</a></p>
                <p><a href="tel:{{ site_settings.phone }}">{{ site_settings.phone }}</a></p>
            </address>
        </div>
        
        {% if messages %}
        <div class="form-messages">
            {% for message in messages %}
            <div class="alert alert-{{ message.tags }}">{{ message }}</div>
            {% endfor %}
        </div>
        {% endif %}
        
        <form class="rsvp-form" method="post" action="{% url 'rsvp' %}">
            {% csrf_token %}
            <label for="name">{% t 'rsvp_full_name' %}</label>
            <input id="name" name="name" placeholder="{% t 'rsvp_full_name' %}" required>

            <label for="email">{% t 'home_email' %}</label>
            <input id="email" name="email" type="email" placeholder="vasata@email.com" required>

            <label for="phone">{% t 'contact_phone' %}</label>
            <input id="phone" name="phone" type="tel" placeholder="+389 70 123 456">

            <label for="date">{% t 'rsvp_preferred_date' %}</label>
            <input id="date" name="date" type="date">

            <label for="service">{% t 'rsvp_service' %}</label>
            <select id="service" name="service" required>
                <option value="">{% t 'rsvp_select_service' %}</option>
                {% for addon in addons %}
                <option value="{{ addon.name }}">{{ addon.translated_name }}</option>
                {% empty %}
                <option value="">{% t 'rsvp_no_services' %}</option>
                {% endfor %}
            </select>

            <label for="message">{% t 'contact_message' %}</label>
            <textarea id="message" name="message" rows="4" placeholder="{% t 'rsvp_specify_requests' %}"></textarea>

            <button type="submit" class="primary-btn">{% t 'rsvp_request_appointment' %}</button>
        </form>
    </section>
</div>

<!-- Map Section -->
<div class="page-wrapper">
    <section class="rsvp-map-section">
        <h2 class="section-heading">{% t 'rsvp_atelier_location' %}</h2>
        <div class="map-embed">
            {% if site_settings.map_embed_code %}
                {{ site_settings.map_embed_code|safe }}
            {% else %}
                <iframe
                    src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d1498.2340000000002!2d21.428057!3d41.997335!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x1354586c8b8d7d4d%3A0x8f8f8f8f8f8f8f8f!2sSamoilova%2090%2C%20Skopje!5e0!3m2!1sen!2sus!4v1702740000000!5m2!1sen!2sus"
                    allowfullscreen
                    loading="lazy"
                    referrerpolicy="no-referrer-when-downgrade"
                    aria-label="Naba Studio - Samoilova 90, Skopje konumu"
                ></iframe>
            {% endif %}
        </div>
    </section>

{% endblock %}